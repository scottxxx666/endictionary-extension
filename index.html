<!DOCTYPE html>
<html>
<head>
    <title>查個英文</title>
</head>
<body>
<script>
(function(d, s, id){
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.com/zh_TW/messenger.Extensions.js";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'Messenger'));
</script>
    Hello~
    <button onclick="fbShare">share</button>
<script>
    window.extAsyncInit = function() {
        // the Messenger Extensions JS SDK is done loading
    };

    var messageToShare = {
      attachment: {
         type: "template",
         payload: {
             template_type: 'generic',
             elements: [{
                 title: "I took Peter's 'Which Hat Are You?' Quiz",
                 image_url: "https://bot.peters-hats.com/img/hats/fez.jpg",
                 subtitle: "My result: Fez",
                 default_action: {
                     type:"web_url",
                     url: "https://scottxxx666.github.io/endictionary-extension/",
                 },
                 buttons: [{
                     type:"web_url",
                     url:"https://scottxxx666.github.io/endictionary-extension/",
                     title:"Take the Quiz",
                 }],
             }]
         }
      }
    };

    var fbShare = function fbShare () {
        MessengerExtensions.beginShareFlow(function success(response) {
        // User dismissed without error, but did they
            // share the message?

            if(response.is_sent){
                // The user actually did share.
                // Perhaps close the window w/ requestCloseBrowser().
            }else{

            }

        }, function error(errorCode, errorMessage) {
        // An error occurred in the process

        },
        messageToShare,
        "current_thread");
    }

</script>
</body>
</html>